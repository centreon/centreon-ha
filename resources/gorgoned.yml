name: gorgoned
description: Configuration init by gorgone_config_init
database:
  db_centreon:
    dsn: "mysql:host=localhost;port=3306;dbname=centreon"
    username: "centreon"
    password: "centreon"
  db_centstorage:
    dsn: "mysql:host=localhost;port=3306;dbname=centreon_storage"
    username: "centreon"
    password: "centreon"
gorgonecore:
  hostname:
  id: 1
  privkey: /var/spool/centreon/.gorgone/rsakey.priv.pem
  pubkey:  /var/spool/centreon/.gorgone/rsakey.pub.pem
modules:
  - name: httpserver
    package: gorgone::modules::core::httpserver::hooks
    enable: false
    address: 0.0.0.0
    port: 8443
    ssl: true
    ssl_cert_file: /etc/pki/tls/certs/server-cert.pem
    ssl_key_file: /etc/pki/tls/server-key.pem
    auth:
      enabled: false
      user: admin
      password: password
    allowed_hosts:
      enabled: true
      subnets:
        - 127.0.0.1/32

  - name: cron
    package: gorgone::modules::core::cron::hooks
    enable: true
    cron:
      - id: compute_acl
        timespec: "* * * * *"
        action: COMMAND
        parameters:
          - command: "/opt/rh/rh-php72/root/usr/bin/php -q /usr/share/centreon/cron/centAcl.php >> /var/log/centreon/centAcl.log 2>&1"
            timeout: 60
        keep_token: true
      - id: recurrent_downtimes
        timespec: "*/5 * * * *"
        action: COMMAND
        parameters:
          - command: "/opt/rh/rh-php72/root/usr/bin/php -q /usr/share/centreon/cron/downtimeManager.php >> /var/log/centreon/downtimeManager.log 2>&1"
            timeout: 240
        keep_token: true
      - id: event_report_builder
        timespec: "0 3 * * *"
        action: COMMAND
        parameters:
          - command: "/usr/share/centreon/cron/eventReportBuilder --config=/etc/centreon/conf.pm >> /var/log/centreon/eventReportBuilder.log 2>&1"
            timeout: 3600
        keep_token: true
      - id: dashboard_builder
        timespec: "0 6 * * *"
        action: COMMAND
        parameters:
          - command: "/usr/share/centreon/cron/dashboardBuilder --config=/etc/centreon/conf.pm >> /var/log/centreon/dashboardBuilder.log 2>&1"
            timeout: 3600
        keep_token: true
      - id: centreon_storage_purge
        timespec: "0 2 * * *"
        action: COMMAND
        parameters:
          - command: "/opt/rh/rh-php72/root/usr/bin/php /usr/share/centreon/cron/centstorage_purge.php >> /var/log/centreon/centreon-purge.log 2>&1"
            timeout: 120
        keep_token: true
      - id: database_partitioning
        timespec: "0 4 * * *"
        action: COMMAND
        parameters:
          - command: "/opt/rh/rh-php72/root/usr/bin/php /usr/share/centreon/cron/centreon-partitioning.php >> /var/log/centreon/centreon-partitioning.log 2>&1"
            timeout: 120
        keep_token: true
      - id: poller_statistics
        timespec: "*/5 * * * *"
        action: COMMAND
        parameters:
          - command: "/usr/share/centreon/cron/nagiosPerfTrace --config=/etc/centreon/conf.pm >> /var/log/centreon/nagiosPerfTrace.log 2>&1"
            timeout: 60
        keep_token: true
      - id: centreon_statistics
        timespec: "15 6 * * *"
        action: COMMAND
        parameters:
          - command: "/opt/rh/rh-php72/root/usr/bin/php -q /usr/share/centreon/cron/centreon-send-stats.php >> /var/log/centreon/statistics.log 2>&1"
            timeout: 60
        keep_token: true

  - name: action
    package: gorgone::modules::core::action::hooks
    enable: true

  - name: proxy
    package: gorgone::modules::core::proxy::hooks
    enable: true

  - name: pollers
    package: gorgone::modules::centreon::nodes::hooks
    enable: true

  - name: broker
    package: gorgone::modules::centreon::broker::hooks
    enable: false
    cache_dir: "/var/lib/centreon/broker-stats/"
    cron:
      - id: broker_stats
        timespec: "*/2 * * * *"
        action: BROKERSTATS
        parameters:
          timeout: 10

  - name: legacycmd
    package: gorgone::modules::centreon::legacycmd::hooks
    enable: true
    cmd_file: "/var/lib/centreon/centcore.cmd"
    cache_dir: "/var/cache/centreon/"
    cache_dir_trap: "/etc/snmp/centreon_traps/"
    remote_dir: "/var/lib/centreon/remote-data/"
